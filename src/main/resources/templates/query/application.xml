<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.application.dao.ApplicationDAO">
	
	<resultMap type="application" id="applicationMap">
		<id column="application_Id" property="applicationId" />
		<result column="application_date" property="applicationDate" />
		<result column="application_comment" property="applicationComment" />
		<result column="applicatoin_result" property="applicationResult" />
		<result column="user_id" property="userId" />
		<result column="volunteer_id" property="volunteerId" />
	</resultMap>
	
	<select id="applicationCount" resultType="int" parameterType="application">
		SELECT count(*)
		FROM application
		WHERE volunteer_id = #{volunteerId}
	</select>
	
	<select id="applicationList" resultMap="applicationMap" resultType="application">
		SELECT user_id, user_name as userName, volunteer_id
		FROM users inner join application
		USING (user_id)
		WHERE volunteer_id = #{volunteerId}
	</select>
</mapper>