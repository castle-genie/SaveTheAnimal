<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.counseling.dao.CounselingDAO">
    <resultMap type="counseling" id="counselingMap">
        <id column="counseling_id" property="counselingId"/>
        <result column="counseling_schedule" property="counselingSchedule"/>
        <result column="user_id" property="userId"/>
        <result column="adoption_id" property="adoptionId"/>
        <result column="animal_id" property="animalId"/>
        <result column="counseling_date" property="counselingDate"/>
        <result column="counseling_judgment" property="counselingJudgment"/>
        <result column="counseling_detail" property="counselingDetail"/>
        <result column="counseling_age" property="counselingAge"/>
        <result column="counseling_address" property="counselingAddress"/>
        <result column="counseling_job" property="counselingJob"/>
        <result column="counseling_adopt" property="counselingAdopt"/>
    </resultMap>

    <!-- 상담 신청 목록 -->
    <select id="counselingList" parameterType="counseling" resultMap="counselingMap">
        SELECT counseling_id, counseling_schedule, user_id, adoption_id, animal_id, counseling_date,
               counseling_judgment, counseling_detail, counseling_age, counseling_address, counseling_job, counseling_adopt
        FROM counseling
        ORDER BY counseling_id DESC
    </select>

    <!-- 상담 신청 상세정보 -->
    <select id="counselingDetail" parameterType="int" resultMap="counselingMap">
        SELECT counseling_id, counseling_schedule, user_id, adoption_id, animal_id, counseling_date,
               counseling_judgment, counseling_detail, counseling_age, counseling_address, counseling_job, counseling_adopt
        FROM counseling
        WHERE counseling_id = #{counselingId}
    </select>

    <!-- 상담 신청 입력 -->
    <insert id="counselingInsert" parameterType="counseling">
        insert into counseling(counseling_schedule, user_id, adoption_id, animal_id, counseling_date,
                               counseling_judgment, counseling_detail, counseling_age, counseling_address, counseling_job, counseling_adopt)
        VALUES (
                   #{counseling_schedule},
                   #{user_id},
                   #{adoption_id},
                   #{animal_id},
                   #{counseling_date},
                   #{counseling_judgment},
                   #{counseling_detail},
                   #{counseling_age},
                   #{counseling_address},
                   #{counseling_job},
                   #{counseling_adopt}
               )
    </insert>

    <!-- 상담 신청 수정 -->
    <update id="counselingUpdate" parameterType="counseling">
        UPDATE counseling
        SET counseling_schedule = #{counseling_schedule}, user_id = #{user_id}, adoption_id = #{adoption_id},
            animal_id = #{animal_id}, counseling_date = #{counseling_date}, counseling_judgment = #{counseling_judgment},
            counseling_detail = #{counseling_detail}, counseling_age = #{counseling_age}, counseling_address = #{counseling_address},
            counseling_job = #{counseling_job}, counseling_adopt = #{counseling_adopt}
        WHERE counseling_id = #{counseling_id}
    </update>

    <!-- 상담 신청 삭제 -->
    <delete id="counselingDelete" parameterType="counseling">
        DELETE FROM counseling
        WHERE counseling_id = #{counselingId}
    </delete>
</mapper>
